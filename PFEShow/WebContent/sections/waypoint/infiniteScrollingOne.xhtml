<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:showcase="http://primefaces.org/ui/extensions/showcase">
<ui:composition template="/templates/showcaseLayout.xhtml">
    <ui:define name="centerContent">
        <f:facet name="header">
            <h:outputText value="Waypoint"/>
        </f:facet>
        <h:panelGroup layout="block" styleClass="centerContent">
            Infinite scrolling with p:remoteCommand and offset as function. The offset defines a waypoint if the bottom of the element is in view.
            When resizing the window, this offset will be recalculated automatically.
            The Waypoint component self is used in combination with pe:javascript.
            In the callback function we check the current scrolling direction. Furthermore, we use two widget methods:
            .remove() and .register(). The method remove() unregisters the waypoint(s) and wipes any custom options,
            but leaves the waypoint's event bound. Calling register() again in the future would reregister the waypoint(s)
            and the old handlers would continue to work.
        </h:panelGroup>

        <h:panelGroup layout="block" styleClass="centerExample">
            <h:outputLink value="#{request.contextPath}/sections/waypoint/examples/infiniteScrollingOne.jsf" target="_blank"
                          style="font-weight: bold; text-decoration: none; border-bottom: 1px dotted;">
                <h:outputText value="Show infinite scrolling"/>
            </h:outputLink>            
        </h:panelGroup>

        <ui:decorate template="/templates/twoTabsDecorator.xhtml">
            <ui:define name="contentTab1">
${showcase:getFileContent('/sections/waypoint/examples/example-infiniteScrollingOne.xhtml')}
            </ui:define>
            <ui:define name="contentTab2">
${showcase:getFileContent('/org/primefaces/extensions/showcase/controller/waypoint/InfiniteScrollController.java')}
            </ui:define>
        </ui:decorate>
    </ui:define>
    <ui:define name="useCases">
        <ui:include src="/sections/waypoint/useCasesChoice.xhtml"/>
    </ui:define>
    <ui:define name="docuTable">
        <ui:include src="/sections/shared/documentation.xhtml">
            <ui:param name="tagName" value="waypoint"/>
        </ui:include>
    </ui:define>
</ui:composition>
</html>
